<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Amen Estate – Admin & Resident Portal</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="styles.css">

</head>
<body>
  <div class="app">
    <!-- SIDEBAR -->
    <aside class="sidebar">
      <div class="brand">
        <div class="brand-logo">AE</div>
        <div>
          <h1>Amen Estate</h1>
          <small>Admin & Resident Portal</small>
        </div>
      </div>

      <div class="nav" id="nav">
        <button data-route="dashboard" class="active">📊 Dashboard</button>
        <button data-route="estates">🏡 Estates</button>
        <button data-route="properties">🏢 Properties</button>
        <button data-route="units">🧱 Units</button>
        <button data-route="tenants">👥 Tenants</button>
        <button data-route="leases">📝 Leases</button>
        <button data-route="billing">💳 Billing</button>
        <button data-route="maintenance">🛠️ Maintenance</button>
        <button data-route="auth">🔐 Auth</button>
      </div>

      <div class="bottom-actions">
        <button class="btn-logout" id="logoutBtn">⎋ Logout</button>
      </div>
    </aside>

    <!-- MAIN CONTENT -->
    <main class="content">
      <div class="topbar">
        <div class="search">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M21 21l-4.35-4.35M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15z" stroke="currentColor" stroke-width="2" opacity=".6"/></svg>
          <input id="globalSearch" placeholder="Search tenants, units, invoices..."/>
        </div>
        <div class="userchip" id="userChip">Guest</div>
      </div>

      <section id="view-dashboard" class="view">
        <div class="kpis">
          <div class="card kpi"><div class="desc">Occupancy</div><div class="val" id="kpi-occupancy">--</div></div>
          <div class="card kpi"><div class="desc">Tenants</div><div class="val" id="kpi-tenants">--</div></div>
          <div class="card kpi"><div class="desc">Pending Invoices</div><div class="val" id="kpi-pending">--</div></div>
          <div class="card kpi"><div class="desc">Revenue (Paid)</div><div class="val" id="kpi-revenue">--</div></div>
        </div>
        <div class="grid">
          <div class="card big">
            <h3>Revenue Trend</h3>
            <canvas id="chartRevenue" height="120"></canvas>
          </div>
          <div class="card side">
            <h3>Quick Actions</h3>
            <div style="display:flex; gap:8px; flex-wrap:wrap">
              <button class="btn" onclick="openModal('createTenantModal')">+ New Tenant</button>
              <button class="btn" onclick="openModal('createLeaseModal')">+ New Lease</button>
              <button class="btn" onclick="openModal('createInvoiceModal')">+ Generate Invoices</button>
              <button class="btn" onclick="openModal('ticketModal')">+ Maintenance Ticket</button>
            </div>
          </div>
          <div class="card full">
            <h3>Recent Invoices</h3>
            <table>
              <thead><tr><th>Ref</th><th>Lease</th><th>Due</th><th>Amount</th><th>Status</th><th></th></tr></thead>
              <tbody id="recentInvoices"></tbody>
            </table>
          </div>
        </div>
      </section>

      <section id="view-estates" class="view" style="display:none">
        <div class="tabs">
          <div class="tab active" data-tab="list-estates">List</div>
          <div class="tab" data-tab="create-estate">Create</div>
        </div>
        <div id="tab-list-estates" class="card">
          <table>
            <thead><tr><th>ID</th><th>Name</th><th>Location</th></tr></thead>
            <tbody id="tbl-estates"></tbody>
          </table>
        </div>
        <div id="tab-create-estate" class="card" style="display:none">
          <form id="form-estate" class="form">
            <div class="field"><label>Name</label><input name="name" required></div>
            <div class="field"><label>Location</label><input name="location" required></div>
            <div class="actions"><button class="btn" type="submit">Create Estate</button></div>
          </form>
        </div>
      </section>

      <section id="view-properties" class="view" style="display:none">
        <div class="tabs">
          <div class="tab active" data-tab="list-properties">List</div>
          <div class="tab" data-tab="create-property">Create</div>
        </div>
        <div id="tab-list-properties" class="card">
          <table>
            <thead><tr><th>ID</th><th>Code</th><th>Address</th><th>Estate ID</th></tr></thead>
            <tbody id="tbl-properties"></tbody>
          </table>
        </div>
        <div id="tab-create-property" class="card" style="display:none">
          <form id="form-property" class="form">
            <div class="field"><label>Code</label><input name="code" required></div>
            <div class="field"><label>Address</label><input name="address" required></div>
            <div class="field"><label>Estate ID</label><input name="estate_id" type="number" required></div>
            <div class="actions"><button class="btn" type="submit">Create Property</button></div>
          </form>
        </div>
      </section>

      <section id="view-units" class="view" style="display:none">
        <div class="tabs">
          <div class="tab active" data-tab="list-units">List</div>
          <div class="tab" data-tab="create-unit">Create</div>
        </div>
        <div id="tab-list-units" class="card">
          <table>
            <thead><tr><th>ID</th><th>Property</th><th>Label</th><th>Bedrooms</th><th>Occupied</th></tr></thead>
            <tbody id="tbl-units"></tbody>
          </table>
        </div>
        <div id="tab-create-unit" class="card" style="display:none">
          <form id="form-unit" class="form">
            <div class="field"><label>Property ID</label><input name="property_id" type="number" required></div>
            <div class="field"><label>Label</label><input name="label" required></div>
            <div class="field"><label>Bedrooms</label><input name="bedrooms" type="number" value="2" required></div>
            <div class="actions"><button class="btn" type="submit">Create Unit</button></div>
          </form>
        </div>
      </section>

      <section id="view-tenants" class="view" style="display:none">
        <div class="tabs">
          <div class="tab active" data-tab="list-tenants">List</div>
          <div class="tab" data-tab="create-tenant">Create</div>
        </div>
        <div id="tab-list-tenants" class="card">
          <table>
            <thead><tr><th>ID</th><th>Name</th><th>Email</th><th>Phone</th></tr></thead>
            <tbody id="tbl-tenants"></tbody>
          </table>
        </div>
        <div id="tab-create-tenant" class="card" style="display:none">
          <form id="form-tenant" class="form">
            <div class="field"><label>Full Name</label><input name="full_name" required></div>
            <div class="field"><label>Email</label><input name="email" type="email" required></div>
            <div class="field"><label>Phone</label><input name="phone"></div>
            <div class="actions"><button class="btn" type="submit">Create Tenant</button></div>
          </form>
        </div>
      </section>

      <section id="view-leases" class="view" style="display:none">
        <div class="tabs">
          <div class="tab active" data-tab="list-leases">List</div>
          <div class="tab" data-tab="create-lease">Create</div>
        </div>
        <div id="tab-list-leases" class="card">
          <table>
            <thead><tr><th>ID</th><th>Unit</th><th>Tenant</th><th>Start</th><th>End</th><th>Rent</th><th>Freq (mo)</th><th>Active</th><th>Invoices</th></tr></thead>
            <tbody id="tbl-leases"></tbody>
          </table>
        </div>
        <div id="tab-create-lease" class="card" style="display:none">
          <form id="form-lease" class="form">
            <div class="field"><label>Unit ID</label><input name="unit_id" type="number" required></div>
            <div class="field"><label>Tenant ID</label><input name="tenant_id" type="number" required></div>
            <div class="field"><label>Start Date</label><input name="start_date" type="date" required></div>
            <div class="field"><label>End Date</label><input name="end_date" type="date" required></div>
            <div class="field"><label>Rent Amount</label><input name="rent_amount" type="number" step="0.01" required></div>
            <div class="field"><label>Frequency (months)</label><input name="frequency_months" type="number" value="12" required></div>
            <div class="actions"><button class="btn" type="submit">Create Lease</button></div>
          </form>
        </div>
      </section>

      <section id="view-billing" class="view" style="display:none">
        <div class="tabs">
          <div class="tab active" data-tab="list-invoices">Invoices</div>
          <div class="tab" data-tab="create-payment">Record Payment</div>
        </div>
        <div id="tab-list-invoices" class="card">
          <div style="display:flex; gap:8px; margin-bottom:10px">
            <select id="filter-invoice-status">
              <option value="">All Status</option>
              <option value="pending">Pending</option>
              <option value="paid">Paid</option>
              <option value="overdue">Overdue</option>
            </select>
            <button class="btn" onclick="loadInvoices()">Apply</button>
          </div>
          <table>
            <thead><tr><th>ID</th><th>Lease</th><th>Due</th><th>Amount</th><th>Status</th><th>Ref</th></tr></thead>
            <tbody id="tbl-invoices"></tbody>
          </table>
        </div>
        <div id="tab-create-payment" class="card" style="display:none">
          <form id="form-payment" class="form">
            <div class="field"><label>Invoice ID</label><input name="invoice_id" type="number" required></div>
            <div class="field"><label>Amount</label><input name="amount" type="number" step="0.01" required></div>
            <div class="field"><label>Transaction Ref</label><input name="txn_ref" required></div>
            <div class="actions"><button class="btn" type="submit">Record Payment</button></div>
          </form>
        </div>
      </section>

      <section id="view-maintenance" class="view" style="display:none">
        <div class="tabs">
          <div class="tab active" data-tab="list-tickets">Tickets</div>
          <div class="tab" data-tab="create-ticket">Create</div>
        </div>
        <div id="tab-list-tickets" class="card">
          <table>
            <thead><tr><th>ID</th><th>Unit</th><th>Title</th><th>Priority</th><th>Status</th><th></th></tr></thead>
            <tbody id="tbl-tickets"></tbody>
          </table>
        </div>
        <div id="tab-create-ticket" class="card" style="display:none">
          <form id="form-ticket" class="form">
            <div class="field"><label>Unit ID</label><input name="unit_id" type="number" required></div>
            <div class="field"><label>Title</label><input name="title" required></div>
            <div class="field" style="grid-column: span 12"><label>Description</label><textarea name="description" rows="4"></textarea></div>
            <div class="field"><label>Priority</label>
              <select name="priority">
                <option value="low">Low</option>
                <option value="medium" selected>Medium</option>
                <option value="high">High</option>
              </select></div>
            <div class="actions"><button class="btn" type="submit">Create Ticket</button></div>
          </form>
        </div>
      </section>

      <section id="view-auth" class="view" style="display:none">
        <div class="grid">
          <div class="card big">
            <h3>Login</h3>
            <form id="form-login" class="form">
              <div class="field"><label>Email</label><input type="email" name="email" required></div>
              <div class="field"><label>Password</label><input type="password" name="password" required></div>
              <div class="actions"><button class="btn" type="submit">Sign In</button></div>
            </form>
          </div>
          <div class="card side">
            <h3>Register Admin</h3>
            <form id="form-register" class="form">
              <div class="field"><label>Full Name</label><input name="full_name" required></div>
              <div class="field"><label>Email</label><input type="email" name="email" required></div>
              <div class="field"><label>Password</label><input type="password" name="password" required></div>
              <div class="actions"><button class="btn-warning btn" type="submit">Create Admin</button></div>
            </form>
          </div>
        </div>
      </section>
    </main>
  </div>

  <!-- MODALS -->
  <div class="modal" id="createTenantModal">
    <div class="modal-card">
      <div class="modal-head"><strong>New Tenant</strong><button class="btn-secondary" onclick="closeModal('createTenantModal')">✕</button></div>
      <div class="modal-body">
        <form id="modal-form-tenant" class="form">
          <div class="field"><label>Full Name</label><input name="full_name" required></div>
          <div class="field"><label>Email</label><input type="email" name="email" required></div>
          <div class="field"><label>Phone</label><input name="phone"></div>
          <div class="actions"><button class="btn" type="submit">Create Tenant</button></div>
        </form>
      </div>
    </div>
  </div>

  <div class="modal" id="createLeaseModal">
    <div class="modal-card">
      <div class="modal-head"><strong>New Lease</strong><button class="btn-secondary" onclick="closeModal('createLeaseModal')">✕</button></div>
      <div class="modal-body">
        <form id="modal-form-lease" class="form">
          <div class="field"><label>Unit ID</label><input name="unit_id" type="number" required></div>
          <div class="field"><label>Tenant ID</label><input name="tenant_id" type="number" required></div>
          <div class="field"><label>Start Date</label><input name="start_date" type="date" required></div>
          <div class="field"><label>End Date</label><input name="end_date" type="date" required></div>
          <div class="field"><label>Rent Amount</label><input name="rent_amount" type="number" step="0.01" required></div>
          <div class="field"><label>Frequency (months)</label><input name="frequency_months" type="number" value="12" required></div>
          <div class="actions"><button class="btn" type="submit">Create Lease</button></div>
        </form>
      </div>
    </div>
  </div>

  <div class="modal" id="createInvoiceModal">
    <div class="modal-card">
      <div class="modal-head"><strong>Generate Invoices for Lease</strong><button class="btn-secondary" onclick="closeModal('createInvoiceModal')">✕</button></div>
      <div class="modal-body">
        <form id="modal-form-invoice-gen" class="form">
          <div class="field"><label>Lease ID</label><input name="lease_id" type="number" required></div>
          <div class="actions"><button class="btn" type="submit">Generate</button></div>
        </form>
      </div>
    </div>
  </div>

  <div class="modal" id="ticketModal">
    <div class="modal-card">
      <div class="modal-head"><strong>Create Maintenance Ticket</strong><button class="btn-secondary" onclick="closeModal('ticketModal')">✕</button></div>
      <div class="modal-body">
        <form id="modal-form-ticket" class="form">
          <div class="field"><label>Unit ID</label><input name="unit_id" type="number" required></div>
          <div class="field"><label>Title</label><input name="title" required></div>
          <div class="field" style="grid-column: span 12"><label>Description</label><textarea name="description" rows="4"></textarea></div>
          <div class="field"><label>Priority</label>
            <select name="priority"><option>low</option><option selected>medium</option><option>high</option></select></div>
          <div class="actions"><button class="btn" type="submit">Create Ticket</button></div>
        </form>
      </div>
    </div>
  </div>
  

  <div class="toast" id="toast"></div>

  <!-- ================== FOOTER ================== -->
<footer class="footer">
  <div class="footer-container">
    <!-- About -->
    <div class="footer-section">
      <h2>🏢 Amen Estate</h2>
      <p>Amen Estate is your trusted platform for managing properties, tenants, and finances with ease. Bringing simplicity and automation to real estate.</p>
    </div>

    <!-- Quick Links -->
    <div class="footer-section">
      <h3>Quick Links</h3>
      <ul>
        <li><a href="#">Dashboard</a></li>
        <li><a href="#">Properties</a></li>
        <li><a href="#">Tenants</a></li>
        <li><a href="#">Finances</a></li>
        <li><a href="#">Support</a></li>
      </ul>
    </div>

    <!-- Contact -->
    <div class="footer-section">
      <h3>Contact</h3>
      <p>Email: adelerekehinde01@gmail.com</p>
      <p>Phone: +234 90 525 1091 0</p>
      <p>Location: Lagos, Nigeria</p>
    </div>

    <!-- Newsletter -->
    <div class="footer-section newsletter">
      <h3>Stay Updated</h3>
      <form>
        <input type="email" placeholder="Enter your email" required>
        <button type="submit">Subscribe</button>
      </form>
      <div class="socials">
        <a href="facebook.com"><i class="fab fa-facebook-f"></i></a>
        <a href="x.com"><i class="fab fa-twitter"></i></a>
        <a href="linkedin.com"><i class="fab fa-linkedin-in"></i></a>
        <a href="instagram.com"><i class="fab fa-instagram"></i></a>
      </div>
    </div>
  </div>

  <div class="footer-bottom">
    <p>© 2025 Amen Estate. All Rights Reserved.</p>
  </div>
</footer>
<script src="script.js"></script>
</body>
</html>
